1. Использование тестовых заглушек при написании модульных тестов имеет несколько преимуществ:

- Ускорение выполнения тестов. Тестовые заглушки можно использовать вместо реальных объектов или функций, обеспечивая быстрое выполнение тестов. Это особенно полезно при тестировании сложных систем или функций с длительным временем выполнения.

- Изоляция зависимостей. При написании модульных тестов важно изолировать тестируемый модуль от его зависимостей. Использование заглушек позволяет заменить реальные зависимости на ненужные для тестирования объекты, чтобы сосредоточиться только на поведении самого модуля.

- Контроль поведения. Тестовые заглушки могут быть настроены для эмуляции различных сценариев, поведения или ошибок, которые сложно воссоздать в реальных условиях. Это позволяет проверить, как тестируемый модуль будет взаимодействовать в этих ситуациях.

- Отладка и документирование. Тестовые заглушки могут быть использованы для отладки и документирования кода, облегчая понимание внутренней логики и взаимодействия модулей.

- Тестирование интерфейсов. Заглушки могут использоваться для тестирования интерфейсов между модулями или компонентами системы, проверки правильности передачи данных и вызовов функций.

2. Для проверки, что метод был вызван с определенными аргументами, следует использовать мок-объекты или моки. Mоки – это объекты, которые создаются с помощью специальных фреймворков и позволяют имитировать поведение реального объекта.

3. Если нужно вернуть определенное значение или исключение в ответ на вызов метода, следует использовать фейки или stub-объекты. Фейки - это объекты, которые заменяют реальные объекты и имитируют их поведение без реализации полноценной функциональности.

4. Для имитации взаимодействия с внешним API или базой данных обычно используются моки или stub-объекты.